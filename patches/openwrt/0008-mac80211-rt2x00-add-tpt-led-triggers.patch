From: David Bauer <mail@david-bauer.net>
Date: Wed, 6 Feb 2019 22:43:31 +0100
Subject: mac80211: rt2x00: add tpt led triggers

diff --git a/package/kernel/mac80211/patches/rt2x00/950-add-tpt-led-triggers.patch b/package/kernel/mac80211/patches/rt2x00/950-add-tpt-led-triggers.patch
new file mode 100644
index 0000000000000000000000000000000000000000..ba9cc8d654d82c00414a140ab8a6d8a2b402bb4a
--- /dev/null
+++ b/package/kernel/mac80211/patches/rt2x00/950-add-tpt-led-triggers.patch
@@ -0,0 +1,39 @@
+Index: backports-4.19.7-1/drivers/net/wireless/ralink/rt2x00/rt2x00leds.c
+===================================================================
+--- backports-4.19.7-1.orig/drivers/net/wireless/ralink/rt2x00/rt2x00leds.c
++++ backports-4.19.7-1/drivers/net/wireless/ralink/rt2x00/rt2x00leds.c
+@@ -27,6 +27,19 @@
+ #include "rt2x00.h"
+ #include "rt2x00lib.h"
+ 
++static const struct ieee80211_tpt_blink rt2x00_tpt_blink[] = {
++	{ .throughput =   0 * 1024, .blink_time = 334 },
++	{ .throughput =   1 * 1024, .blink_time = 260 },
++	{ .throughput =   5 * 1024, .blink_time = 220 },
++	{ .throughput =  10 * 1024, .blink_time = 190 },
++	{ .throughput =  20 * 1024, .blink_time = 170 },
++	{ .throughput =  50 * 1024, .blink_time = 150 },
++	{ .throughput =  70 * 1024, .blink_time = 130 },
++	{ .throughput = 100 * 1024, .blink_time = 110 },
++	{ .throughput = 200 * 1024, .blink_time =  80 },
++	{ .throughput = 300 * 1024, .blink_time =  50 },
++};
++
+ void rt2x00leds_led_quality(struct rt2x00_dev *rt2x00dev, int rssi)
+ {
+ 	struct rt2x00_led *led = &rt2x00dev->led_qual;
+@@ -176,6 +189,14 @@ void rt2x00leds_register(struct rt2x00_d
+ 		    &rt2x00dev->led_radio.led_dev, &on_period, &off_period);
+ 	}
+ 
++	/*
++	 * Add tpt triggers
++	 */
++	ieee80211_create_tpt_led_trigger(rt2x00dev->hw,
++					 IEEE80211_TPT_LEDTRIG_FL_RADIO,
++					 rt2x00_tpt_blink,
++					 ARRAY_SIZE(rt2x00_tpt_blink));
++
+ 	return;
+ 
+ exit_fail:
