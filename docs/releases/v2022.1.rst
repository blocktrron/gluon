Gluon 2022.1
============

.. Written up to a9fff111 # Added HW/Support

Added hardware support
----------------------


ath79-generic
~~~~~~~~~~~~~

* D-Link

    - DAP-2660 A1

* Enterasys

    - WS-AP3705i

* Siemens

    - WS-AP3610

* TP-Link

    - Archer A7 v5
    - CPE510 v2
    - CPE510 v3
    - CPE710 v1
    - EAP225-Outdoor v1
    - WBS210 v2

ath79-mikrotik
~~~~~~~~~~~~~~

* Mikrotik

    - RB951Ui-2nD

ipq40xx-generic
~~~~~~~~~~~~~~~

* Aruba Networks

    - Aruba AP-303H
    - Aruba AP-365
    - InstantOn AP11D
    - InstantOn AP17

ipq40xx-mikrotik
~~~~~~~~~~~~~~~~

* Mikrotik

    - SXTsq-5-AC

ramips-mt7620
~~~~~~~~~~~~~

* Xiaomi

    - Mi Router 3G (v2)

ramips-mt7621
~~~~~~~~~~~~~

* Cudy

    - WR2100

* Netgear

    - R6260
    - WAC104

.. _tp-link-1:

* TP-Link

    - RE650v1

* Ubiquiti

    - UniFi 6 Lite

* Xiaomi

    - Mi Router 4A (Gigabit Edition)

ramips-mt7622
~~~~~~~~~~~~~

.. _xiaomi-1:

* Xiaomi

    - AX3200

.. _ubiquiti-1:

* Ubiquiti

    - UniFi 6 LR

ramips-mt76x8
~~~~~~~~~~~~~

* GL.iNet

    - microuter-N300

.. _ravpower-1:

* RAVPower

    - RP-WD009

.. _tp-link-2:

* TP-Link

    - Archer C20 v4
    - Archer C20 v5
    - RE200 v2

.. _xiaomi-2:

* Xiaomi

    - Mi Router 4C
    - Mi Router 4A (100M Edition)

rockchip-armv8
~~~~~~~~~~~~~~

* FriendlyElec

    - NanoPi R2S

mpc85xx-p1010
~~~~~~~~~~~~~

* Sophos

    - RED 15w rev. 1

mpc85xx-p1020
~~~~~~~~~~~~~

* Extreme Networks

    - WS-AP3825i

Device changes
--------------

Renamed Devices
~~~~~~~~~~~~~~~

-  The ``brcm2708-bcm2708`` ``brcm2708-bcm2709`` ``brcm2708-bcm2710``
   targets were renamed to ``bcm27xx-bcm2708`` ``bcm27xx-bcm2709`` and
   ``bcm27xx-bcm2710``.
-  The GL.iNet GL-AR750S was moved to the ``ath79-nand`` subtarget

Atheros target migration
~~~~~~~~~~~~~~~~~~~~~~~~

All Atheros MIPS devices built with the ``ar71xx-generic``,
``ar71xx-nand`` as well as ``ar71xx-tiny`` were deprecated upstream and
are therefore not available with Gluon anymore.

Many devices previously built with ``ar71xx-generic`` and
``ar71xx-nand`` are now available with the ``ath79-generic`` as well as
``ath79-nand`` target respectively.

Missing devices
~~~~~~~~~~~~~~~

The following devices have not yet been integrated into Gluons ath79
targets.

8Devices
^^^^^^^^

-  Carambola 2

Aerohive
^^^^^^^^

-  HiveAP 121

Allnet
^^^^^^

-  ALL0315

Buffalo
^^^^^^^

-  WZR-HP-G300NH2
-  WZR-HP-G450H

.. _gl.inet-1:

GL.iNet
^^^^^^^

-  6408A v1

.. _netgear-1:

NETGEAR
^^^^^^^

-  WNDR3800
-  WNDR4300
-  WNDRMAC
-  WNDRMAC v2

OCEDO
^^^^^

-  KOALA

.. _tp-link-3:

TP-Link
^^^^^^^

-  WR2543

WD
^^

-  MyNet N600
-  MyNet N750

ZyXEL
^^^^^

-  NB6616
-  NB6716

Removed Devices
---------------

This list contains devices which do not have enough memory or flash to
be operated with this Gluon release.


D-Link
~~~~~~

-  DIR-615 (C1, D1, D2, D3, D4, H1)

.. _linksys-1:

Linksys
~~~~~~~

-  WRT160NL

.. _tp-link-4:

TP-Link
~~~~~~~

-  TL-MR13U (v1)
-  TL-MR3020 (v1)
-  TL-MR3040 (v1, v2)
-  TL-MR3220 (v1, v2)
-  TL-MR3420 (v1, v2)
-  TL-WA701N/ND (v1, v2)
-  TL-WA730RE (v1)
-  TL-WA750RE (v1)
-  TL-WA801N/ND (v1, v2, v3)
-  TL-WA830RE (v1, v2)
-  TL-WA850RE (v1)
-  TL-WA860RE (v1)
-  TL-WA901N/ND (v1, v2, v3, v4, v5)
-  TL-WA7210N (v2)
-  TL-WA7510N (v1)
-  TL-WR703N (v1)
-  TL-WR710N (v1, v2)
-  TL-WR740N (v1, v3, v4, v5)
-  TL-WR741N/ND (v1, v2, v4, v5)
-  TL-WR743N/ND (v1, v2)
-  TL-WR840N (v2)
-  TL-WR841N/ND (v3, v5, v7, v8, v9, v10, v11, v12)
-  TL-WR841N/ND (v1, v2)
-  TL-WR843N/ND (v1)
-  TL-WR940N (v1, v2, v3, v4, v5, v6)
-  TL-WR941ND (v2, v3, v4, v5, v6)
-  TL-WR1043N/ND (v1)
-  WDR4900

.. _ubiquiti-2:

Ubiquiti
~~~~~~~~

-  AirGateway
-  AirGateway Pro
-  AirRouter
-  Rocket
-  Bullet
-  Nanostation XW
-  LS-SR71
-  Bullet

Unknown
~~~~~~~

-  A5-V11

VoCore
~~~~~~

-  VoCore (8M, 16M)

Features
--------

Wireguard
~~~~~~~~~

ToDo: LEMOER OR AIYION

fastd L2TP
~~~~~~~~~~

fastd can now act as a connection broker for unencrypted L2TP-based
tunneling within Gluons mesh-vpn framework.

In addition to a sufficient configured fastd-based VPN server, this
requires adding the ``null@l2tp`` method to the fastd site.

Network changes (DSA / Upgrade-Behavior)
----------------------------------------

The ramips-mt7621 and lantiq-xrx200 targets now use the upstream DSA
subsystem instead of OpenWrt swconfig for managing ethernet switches.

Gluon detects the existing user-intent and automatically applies it over
to DSA syntax. See the section about network reconfiguration for more
details.

Site changes
------------

VPN provider MTU
~~~~~~~~~~~~~~~~

To account for multiple VPN methods available for a site, the MTU used
for the VPN tunnel connection is now moved to the specific VPN provider
configuration.

Internal changes
----------------

Misc
~~~~

-  Gluon now ships the ath10k-ct firmware deriavation for ath10k Wave 2
   radio
-  WolfSSL instead of OpenSSL is not used when built with WPA3 support.
-  The option to configure the wireless-channel independant from the
   site-selected channel was moved from
   ``gluon-core.wireless.preserve_channels`` to
   ``gluon.wireless.preserve_channels``
-  ``gluon-info`` is a new command that provides information about the
   current node
-  ``GLUON_DEPRECATED`` is now set to 0 by default

Setup mode
~~~~~~~~~~

-  To reboot a running gluon-node into setup-mode, Gluon now offers the
   ``gluon-enter-setup-mode`` command
-  Devices without WLAN do not show the private-wifi configuration
   anymore

System reconfiguration
~~~~~~~~~~~~~~~~~~~~~~

The network and system-LED configurations are now re-generated after
each update / invocation of ``gluon-reconfigure``.

The user-intent is preserved within Gluon’s implemented functionality
(Wired-Mesh / Client access / WAN).

As an additional feature, Gluon now supports assigning roles to
interfaces. This behavior is explained here –>
https://github.com/freifunk-gluon/gluon/pull/2584/files

Autoupdater
~~~~~~~~~~~

The Autoupdater now uses the site default branch in case it is
configured to use a non-existant / invalid branch.
